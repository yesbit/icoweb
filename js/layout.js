var Layout = function () {
    'use strict';


    var arrlang = {
        "en": {
            "关于YESBIT": "INTRODUCING YESBIT",
            "开发区块链技术解决方案": "Develope the Technical Support on Blockchain",
            "Yesbit Technology Ltd.于2015年创立之时，只有一个目的，即“让区块链技术成为更多人的日常选择”。为了实现这个目标，我们分别上线了三大业务:":"There is only one single purpose when Yesbit was founded in 2015: To make blockchain technology more accessible to everybody. We are trying to achieve that goal by dividing our business into three parts:",
            "Yesbit Technology Ltd.于2015年创立之时，只有一个目的，即“让区块链技术成为更多人的选择”。为了实现这个目标，我们分别上线了 —— LinkCoin：OTC加密货币交易所，向有购币需求的用户提供法币入金通道；克拉猫：可泛用区块链预言机，为区块链的落地之路打下基础；以及技术支持服务：将专业的区块链开发技术带给想使用区块链技术的公司。我们希望通过我们的产出，可以使区块链技术早日成为人人可用，人人愿用的日常科技之一。": "There is only one single purpose when Yesbit was founded in 2015: To make blockchain technology more accessible to everybody. We are trying to achieve that goal by dividing our business into three parts - LinkCoin: OTC trading, allowing people to have access to crypto currencies; KrawlCat: Blockchain Infrastructure Development, showing people what blockchain is capable of doing in the future and through Technology Support, allowing companies that have great ideas to take advantage of our full stack blockchain development team.",
            "LinkCoin": "LinkCoin",
            "OTC场外加密货币交易平台": "OTC Fiat-Crypto Trading platform",
            "向有购币需求的用户提供法币入金通道":"Entry Point for the cryptocurrency world",
            "克拉猫": "KrawlCat",
            "可泛用区块链预言机": "Generalized Oracles for Blockchain",
            "为区块链的落地之路打下基础":"Showing people what blockchain is capable of doing in the future",
            "区块链咨询服务": "Blockchain Consulting",
            "企业级区块链战略与技术服务": "Full Strategy & Technology Planning",
            "为区块链公司规划实现可持续增长性发展的最佳路线":"Develop and integrate the strategy for the profit-maximizing path",
            "了解我们": "KNOW MORE ABOUT WHAT WE DO",
            "OTC交易所·区块链开发·技术支持": "OTC EXCHANGE·BLOCKCHAIN DEVELOPMENT·TECHNICAL SUPPORT",
            "LinkCoin": "LinkCoin",
            "OTC场外加密货币交易平台": "Fiat-Crypto OTC trading platform",
            "作为场外交易平台，用户可以通过LinkCoin.pro使用法定货币进行加密货币交易。7天24小时在线客服全方位保障您的财产安全。LinkCoin是Bibox的战略合作伙伴，用户可在两平台间无手续费进行资产一键划转。": "An Over The Counter (OTC) platform which allows Fiat-currency to be used to trade Cryptocurrencies. The 24/7 customer service is provided to protect every user's funds. LinkCoin is the strategic partner of Bibox exchange. Users can transfer their funds on LinkCoin and Bibox with no fees.",
            "平台支持BTC比特币、ETH以太坊、USDT泰达币、LTC莱特币、EOS柚子、BIX和LKN等多币种交易。LinkCoin.pro致力于为用户提供比传统交易平台更快，更实惠的服务。":"The cryptocurrencies available on the website include BTC, ETH, USDT, LTC, EOS, BIX and LKN. It’s much faster and cheaper compared to traditional exchanges.",
            "访问LinkCoin": "Go to LinkCoin",
            "克拉猫": "KrawlCat",
            "可泛用区块链预言机 ": "A Generalized Oracle for Blockchains",
            "克拉猫区块链预言机填补连接了目前由于互联网与封闭式区块链协议的制式不同导致的信息断层，将链下数据传输上链。此外，其可广泛运用的性质还允许了不同区块链协议间的信息沟通。": "KrawlCat Generalized Oracles bridges the gap between the current internet infrastructure and closed blockchain networks by bringing off-chain data to on-chain. Moreover, its generalized nature allows it to facilitate cross chain communication between solitary blockchain protocols.",
            "访问克拉猫": "Go to KrawlCat",
            "区块链咨询服务": "Blockchain Consulting",
            "企业级区块链战略与技术服务提供商": "Full Strategy & Technology planning service",
            "拥有自我革新的能力，并平衡其架构、产品与策略的重心与发展对于所有区块链公司都尤为重要。":"All Blockchain organizations need to reinvent themselves, the ability in creating alignment between its structure, its product and its strategy.",
            "我们提供最具夯实与最具创新的区块链技术开发与市场趋势洞察服务。通过规划，实践与审核评估，帮助您的区块链业务达到所期望的最佳业务成果。":"We bring the best of our innovating developing capacities and marketing trend identification to your Blockchain business demands for meeting the high quality expectations. Through our full strategy and technology planning service, Technology and Markets will be integrated to generate the new insights, draw the pioneering solutions, execute the decisions and improve the business performance.",
            "我们的团队目前由Java程序员，iOS/安卓程序员，区块链开发人员和前端程序员及设计师组成。我们参与开发的项目涉及中心化应用（DApps），主网部署，中心化和去中心化加密货币交易，去中心化金融交易，中心化和去中心化的数字钱包等。":"The team is currently made up of Java developers, IOS/Android developers, blockchain developers and front end developers/designers. Projects that we have developed before include - Dapps, Mainnet deployments, centralized and decentralized crypto exchange, decentralized financial exchange, centralized and decentralized wallets.",
            "联系我们": "Contact us",
            "加入我们": "JOIN US",
            // "与我们一起，造就更多可能": "We are always looking for the talented people to join our team!",
            "区块链行业作为新生行业，进入区块链公司工作是快速了解加密行业和区块链技术最直接的途径。自创立以来，我们不仅发展成了行业佼佼者，更在区块链行业积累了深厚的经验和知识。我们组织举办过线下交流、黑客马拉松、工作坊、行业会议等，为员工提供了接触区块链行业前沿话题，与行业先锋直接交流的机会。":"As the whole blockchain space is new, there is no better place to learn about cryptocurrencies or blockchain other than working at a blockchain company. Since having been in the space, we have not only built our reputation as industry leaders but also have gathered substantial experience within the space. We have hosted blockchain events such as meetups, hackathons, workshops, conferences that have given our employees access to the latest topics in the blockchain space plus interaction with industry leaders.",
            "我们的员工是公司最重要的资源，照顾员工的需求是公司最优先的任务。除了有竞争力的薪酬，公司还会为全职员工提供涵盖牙科，视力和处方药等全方位的医疗保险。同时，我们还为员工准备了丰富的团建与生日趴活动。":"Our employees are our most important asset and taking care of them has always been our top priority. Other than the competitive pay we offer, all of our full time permanent employees enjoy group health benefits that covers dental, vision and the prescription. In addition to that we host monthly team building events as well as employee birthday celebrations.",
            "Yesbit由思维敏捷开放，有前瞻性的人才组成。我们坚信区块链和去中心化代表了人类社会的未来，我们为成为这个历史发展大方向的一员而感到自豪。如果你也有同样的想法，欢迎随时联系我们，Yesbit的大门永远向人才敞开。":"Yesbit is made up of people who are open minded and forward thinking. We believe blockchain and decentralization is the future of human society and we are grateful and excited to be part of this journey. If you have the same mindset please don’t hesitate to contact us as Yesbit is open to interacting with top talents all the time.",
            "与我们一起，造就更多可能":"If you have the same mindset, please don’t hesitate to contact us!",
            "区块链行业作为新生行业，进入区块链公司工作是快速了解加密行业和区块链技术最直接的途径。Yesbit由思维敏捷开放，有前瞻性的人才组成。我们坚信区块链和去中心化代表了人类社会的未来，作为带动发展方向的一员，我们为此感到自豪。":"There is no better place to learn about cryptocurrencies or blockchain other than working at a blockchain company. Yesbit is made up of people who are open minded and forward thinking. We believe blockchain and decentralization is the future of human society and we are grateful and excited to be part of this journey.",
            "员工福利":"Benefit to join Yesbit",
            "查看职位": "See our available positions",
            "公司地址: 1220, 央街5255号， 多伦多，安大略省， 加拿大": "Address: Unit 1220, 5255 Yonge Street, Toronto, ON, Canada",
            "Copyright © 2019-2020 Yesbit Technology Ltd.": "Copyright © 2019-2020 Yesbit Technology Ltd."
        },
        "cn": {
            "INTRODUCING YESBIT": "关于YESBIT",
            "Develope the Technical Support on Blockchain": "开发区块链技术解决方案",
            "There is only one single purpose when Yesbit was founded in 2015: To make blockchain technology more accessible to everybody. We are trying to achieve that goal by dividing our business into three parts - LinkCoin: OTC trading, allowing people to have access to cryptocurrencies; KrawlCat: Blockchain Infrastructure Development, showing people what blockchain is capable of doing in the future and through Technology Support, allowing companies that have great ideas to take advantage of our full stack blockchain development team.": "Yesbit Technology Ltd.于2015年创立之时，只有一个目的，即“让区块链技术成为每个人的日常选择”。为了实现这个目标，我们分别上线了 —— LinkCoin：OTC加密货币交易所，向有购币需求的用户提供法币入金通道；克拉猫：可泛用区块链预言机，为区块链的落地之路打下基础；以及技术支持服务：将专业的区块链开发技术带给想使用区块链技术的公司。我们希望通过我们的产出，可以使区块链技术早日成为人人可用，人人愿用的日常科技之一。",
            "There is only one single purpose when Yesbit was founded in 2015: To make blockchain technology more accessible to everybody. We are trying to achieve that goal by dividing our business into three parts:":"Yesbit Technology Ltd.于2015年创立之时，只有一个目的，即“让区块链技术成为更多人的日常选择”。为了实现这个目标，我们分别上线了三大业务:",
            "LinkCoin": "LinkCoin",
            "OTC Fiat-Crypto Trading platform": "OTC场外加密货币交易平台",
            "Entry Point for the cryptocurrency world":"向有购币需求的用户提供法币入金通道",
            "KrawlCat": "克拉猫",
            "Generalized Oracles for Blockchain": "可泛用区块链预言机",
            "Showing people what blockchain is capable of doing in the future":"为区块链的落地之路打下基础",
            "Blockchain Consulting": "区块链咨询服务",
            "Full Strategy & Technology Planning": "企业级区块链战略与技术服务",
            "Develop and integrate the strategy for the profit-maximizing path":"为区块链公司规划实现可持续增长性发展的最佳路线",
            "KNOW MORE ABOUT WHAT WE DO": "了解我们",
            "OTC EXCHANGE·BLOCKCHAIN DEVELOPMENT·TECHNICAL SUPPORT": "OTC交易所·区块链开发·技术支持",
            "LinkCoin": "LinkCoin",
            "Fiat-Crypto OTC trading platform": "OTC场外加密货币交易平台",
            "An Over The Counter (OTC) platform which allows Fiat-currency to be used to trade Cryptocurrencies. The 24/7 customer service is provided to protect every user's funds. LinkCoin is the strategic partner of Bibox exchange. Users can transfer their funds on LinkCoin and Bibox with no fees.":
                "作为场外交易平台，用户可以通过LinkCoin.pro使用法定货币进行加密货币交易。7天24小时在线客服全方位保障您的财产安全。LinkCoin是Bibox的战略合作伙伴，用户可在两平台间无手续费进行资产一键划转。",
            "The cryptocurrencies available on the website include BTC, ETH, USDT, LTC, EOS, BIX and LKN. It’s much faster and cheaper compared to traditional exchanges.":"平台支持BTC比特币、ETH以太坊、USDT泰达币、LTC莱特币、EOS柚子、BIX和LKN等多币种交易。LinkCoin.pro致力于为用户提供比传统交易平台更快，更实惠的服务。",
            "Go to LinkCoin": "访问LinkCoin",
            "KrawlCat": "克拉猫",
            "A Generalized Oracle for Blockchains": "可泛用区块链预言机 ",
            "KrawlCat Generalized Oracles bridges the gap between the current internet infrastructure and closed blockchain networks by bringing off-chain data to on-chain. Moreover, its generalized nature allows it to facilitate cross chain communication between solitary blockchain protocols.":
                "克拉猫区块链预言机填补连接了目前由于互联网与封闭式区块链协议的制式不同导致的信息断层，将链下数据传输上链。此外，其可广泛运用的性质还允许了不同区块链协议间的信息沟通。",
            "Go to KrawlCat": "访问克拉猫",
            "Technical Support": "区块链咨询服务",
            "Full Strategy & Technology planning service": "企业级区块链战略与技术服务提供商",
            "All Blockchain organizations need to reinvent themselves, the ability in creating alignment between its structure, its product and its strategy.": "拥有自我革新的能力，并平衡其架构、产品与策略的重心与发展对于所有区块链公司都尤为重要。",
            "We bring the best of our innovating developing capacities and marketing trend identification to your Blockchain business demands for meeting the high quality expectations. Through our full strategy and technology planning service, Technology and Markets will be integrated to generate the new insights, draw the pioneering solutions, execute the decisions and improve the business performance.":"我们提供最具夯实与最具创新的区块链技术开发与市场趋势洞察服务。通过规划，实践与审核评估，帮助您的区块链业务达到所期望的最佳业务成果。",
            "The team is currently made up of Java developers, IOS/Android developers, blockchain developers and front end developers/designers. Projects that we have developed before include - Dapps, Mainnet deployments, centralized and decentralized crypto exchange, decentralized financial exchange, centralized and decentralized wallets.":"我们的团队目前由Java程序员，iOS/安卓程序员，区块链开发人员和前端程序员及设计师组成。我们参与开发的项目涉及中心化应用（DApps），主网部署，中心化和去中心化加密货币交易，去中心化金融交易，中心化和去中心化的数字钱包等。",
            "Contact us": "联系我们",
            "JOIN US": "加入我们",
            // "We are always looking for the talented people to join our team!": "与我们一起，造就更多可能",
            "If you have the same mindset, please don’t hesitate to contact us!":"与我们一起，造就更多可能",
            "See our available positions": "查看职位",
            "As the whole blockchain space is new, there is no better place to learn about cryptocurrencies or blockchain other than working at a blockchain company. Since having been in the space, we have not only built our reputation as industry leaders but also have gathered substantial experience within the space. We have hosted blockchain events such as meetups, hackathons, workshops, conferences that have given our employees access to the latest topics in the blockchain space plus interaction with industry leaders.":"区块链行业作为新生行业，进入区块链公司工作是快速了解加密行业和区块链技术最直接的途径。自创立以来，我们不仅发展成了行业佼佼者，更在区块链行业积累了深厚的经验和知识。我们组织举办过线下交流、黑客马拉松、工作坊、行业会议等，为员工提供了接触区块链行业前沿话题，与行业先锋直接交流的机会。",
            "Our employees are our most important asset and taking care of them has always been our top priority. Other than the competitive pay we offer, all of our full time permanent employees enjoy group health benefits that covers dental, vision and the prescription. In addition to that we host monthly team building events as well as employee birthday celebrations.":"我们的员工是公司最重要的资源，照顾员工的需求是公司最优先的任务。除了有竞争力的薪酬，公司还会为全职员工提供涵盖牙科，视力和处方药等全方位的医疗保险。同时，我们还为员工准备了丰富的团建与生日趴活动。",
            "Yesbit is made up of people who are open minded and forward thinking. We believe blockchain and decentralization is the future of human society and we are grateful and excited to be part of this journey. If you have the same mindset please don’t hesitate to contact us as Yesbit is open to interacting with top talents all the time.":"Yesbit由思维敏捷开放，有前瞻性的人才组成。我们坚信区块链和去中心化代表了人类社会的未来，我们为成为这个历史发展大方向的一员而感到自豪。如果你也有同样的想法，欢迎随时联系我们，Yesbit的大门永远向人才敞开。",
            "There is no better place to learn about cryptocurrencies or blockchain other than working at a blockchain company. Yesbit is made up of people who are open minded and forward thinking. We believe blockchain and decentralization is the future of human society and we are grateful and excited to be part of this journey.":"区块链行业作为新生行业，进入区块链公司工作是快速了解加密行业和区块链技术最直接的途径。Yesbit由思维敏捷开放，有前瞻性的人才组成。我们坚信区块链和去中心化代表了人类社会的未来，作为带动发展方向的一员，我们为此感到自豪。",
            "Benefit to join Yesbit":"员工福利",
            "Address: Unit 1220, 5255 Yonge Street, Toronto, ON, Canada": "公司地址: 1220, 央街5255号， 多伦多，安大略省， 加拿大",
            "Copyright © 2019-2020 Yesbit Technology Ltd.": "Copyright © 2019-2020 Yesbit Technology Ltd."
        }
    }


    var data = {
        "nav": [
            {
                "en": "HOME",
                "cn": "首页"
            },
            // {
            //     "en": "WHITE PAPERS",
            //     "cn": "白皮书"
            // },
            {
                "en": "ABOUT US",
                "cn": "关于YESBIT"
            },
            {
                "en": "PROJECTS",
                "cn": "产品"
            },
            {
                "en": "Career",
                "cn": "加入我们"
            },
            {   "en": "PRESS KIT",
                "cn": "媒体资料包"
            }
        ],
        "banner": {
            "title": {
                "en": "Deliver Blockchain to Each Person",
                "cn": "让区块链技术成为更多人的日常选择"
            },
            "button": [
                // {
                //     "en": "Whitepaper",
                //     "cn": "白皮书"
                // },
                {
                    "en": "Go to LinkCoin",
                    "cn": "前往LinkCoin"
                },
                {
                    "en": "Go to KrawlCat",
                    "cn": "前往克拉猫"
                },
                {
                    "en": "Contact us",
                    "cn": "联系我们"
                },
            ]
        },
        "team": {}
    };


    // handle on page scroll
    var handleHeaderOnScroll = function () {
        if ($(window).scrollTop() > 60) {
            $('body').addClass('page-on-scroll');
        } else {
            $('body').removeClass('page-on-scroll');
        }
    }

    // handle carousel
    var handleCarousel = function () {
        var $item = $('.carousel .item');
        var $wHeight = $(window).height();
        $item.eq(0).addClass('active');
        $item.height($wHeight);
        $item.addClass('full-screen');

        $('.carousel img').each(function () {
            var $src = $(this).attr('src');
            var $color = $(this).attr('data-color');
            // $(this).parent().css({
            //     'background-image' : 'url(' + $src + ')',
            //     'background-color' : $color
            // });
            // $(this).remove();
        });

        $(window).on('resize', function () {
            $wHeight = $(window).height();
            $item.height($wHeight);
        });
    }

    // handle group element heights
    var handleHeight = function () {
        $('[data-auto-height]').each(function () {
            var parent = $(this);
            var items = $('[data-height]', parent);
            var height = 0;
            var mode = parent.attr('data-mode');
            var offset = parseInt(parent.attr('data-offset') ? parent.attr('data-offset') : 0);

            items.each(function () {
                if ($(this).attr('data-height') == "height") {
                    $(this).css('height', '');
                } else {
                    $(this).css('min-height', '');
                }

                var height_ = (mode == 'base-height' ? $(this).outerHeight() : $(this).outerHeight(true));
                if (height_ > height) {
                    height = height_;
                }
            });

            height = height + offset;

            items.each(function () {
                if ($(this).attr('data-height') == "height") {
                    $(this).css('height', height);
                } else {
                    $(this).css('min-height', height);
                }
            });

            if (parent.attr('data-related')) {
                $(parent.attr('data-related')).css('height', parent.height());
            }
        });
    }

    var handleCube = function () {
        var canvasDiv = document.getElementById('particle-canvas');
        var options = {
            //   particleColor: '#888',
            background: './img/bgd.jpg',
            //   interactive: true,
            //   speed: 'slow',
            //   density: 'high'
        };
        var particleCanvas = new ParticleNetwork(canvasDiv, options);
    }

    var handleData = function () {
        //switch language
        var i;
        var toggle = document.getElementsByClassName("lang-tab")[0];
        var lang;
        toggle.addEventListener("click", function (){
            console.log('111'+ toggle.childNodes[0].nodeValue);
            if (toggle.childNodes[0].nodeValue== "EN"){
                lang = "cn";
                document.getElementById("lang-btn").childNodes[0].nodeValue="中文"
            }
            else {
                lang="en";
                document.getElementById("lang-btn").childNodes[0].nodeValue="EN"
            }
                //render data
                if (lang == "cn") {
                    console.log("now we are in cn " + lang);
                    //banner
                    document.getElementById("title-full").textContent = data.banner.title.cn;
                    document.getElementById("title-responsive").textContent = data.banner.title.cn;
                    //nav
                    var nav = document.getElementById("nav");
                    console.log('this is nav: ', nav)
                    for (var i = 0; i < nav.children.length - 1; i++) {
                        nav.children[i].children[0].textContent = data.nav[i].cn
                        console.log('this is current nav', nav.children[i].children[0])
                        nav.children[i].children[0].value = data.nav[i].cn

                    }
                    //intro
                    $('.lang').each(function (index, element) {
                        console.log('index, element: ', index, this.textContent, arrlang['cn'][this.textContent])
                        this.textContent = arrlang['cn'][this.textContent];
                        this.value = arrlang['cn'][this.value];
                    });


                }
                else {
                    console.log("now we are in en " + lang);
                    document.getElementById("title-full").textContent = data.banner.title.en;
                    document.getElementById("title-responsive").textContent = data.banner.title.en;

                    var nav = document.getElementById("nav");
                    for (var i = 0; i < nav.children.length - 1; i++) {
                        nav.children[i].children[0].textContent = data.nav[i].en
                        console.log('this is current nav', nav.children[i].children[0])
                        nav.children[i].children[0].value = data.nav[i].en
                    }

                    $('.lang').each(function (index, element) {
                        console.log('index, element: ', index, this.textContent, arrlang['en'][this.textContent])
                        this.textContent = arrlang['en'][this.textContent];
                        this.value = arrlang['en'][this.value];
                    });
                }
            });
        }

    var handleVideo = function () {
        $(document).ready(function () {
            //control play
            $(".video-overlay-play-button").click(function () {
                if (this.style.display === "none") {
                    this.style.display = "block";

                }
                else {
                    this.style.display = "none";
                    this.parentElement.children[2].setAttribute("style", "display: none");
                    this.parentElement.children[0].play();

                }
            });
        });
    }

    var handlePie = function () {
        var pieChart = AmCharts.makeChart("pieChart", {
            "type": "pie",
            "theme": "black",
            "labelRadius": -35,
            "fontSize": 14,
            "labelText": "[[percents]]%",
            "dataProvider": [{
                "group": "Overnight Interests",
                "token": 60,
                "showInLegend": true
            }, {
                "group": "Transaction Fee",
                "token": 40,
                "showInLegend": true
            }],
            "valueField": "token",
            "titleField": "group",
            //"descriptionField": "value",
            "outlineAlpha": 0.4,
            "depth3D": 15,
            "balloonText": "[[title]]<br><span style='font-size:14px; color:#000000'><b style='color:#000000'>[[value]]</b> </span>",
            "angle": 30,
            "export": {
                "enabled": false
            },
            "hideCredits": true,
            "marginTop": 0,
            "visibleInLegendField": "showInLegend",
            "legend": {
                "enabled": true,
                "markerType": "circle",
                "markerColor": "transparent",
                "align": "center",
                "width": 100,
                "divId": "legendDiv",
                "valueWidth": 20,
                "spacing": 0
            },
            "percentFormatter": {
                "precision": 0

            },
            "minRadius": 40,
            "maxLabelWidth": 100,
            "pullOutEffect": "bounce"
        });
    }

    var handleAnimation = function () {
        AOS.init();
    }

    var handleAccordion = function () {
        var acc = document.getElementsByClassName("accordion");
        var i;
        for (i = 0; i < acc.length; i++) {
            acc[i].addEventListener("click", function () {
                this.classList.toggle("active");
            });
        }
    }

    var handleScroll = function () {
        $('.nav-scroll').localScroll();
    }

    return {
        init: function () {
            handleHeaderOnScroll(); // initial setup for fixed header
            handleCarousel(); // initial setup for carousel
            handleHeight(); // initial setup for group element height
            handleCube(); //canvas initialisation
            handleData();
            handleVideo();
            handlePie(); //piechart initialisation
            handleAnimation();
            handleAccordion();
            handleScroll();
            // handle minimized header on page scroll
            $(window).scroll(function () {
                handleHeaderOnScroll();
            });
        }
    };
}();


$(document).ready(function () {
    Layout.init();

});
